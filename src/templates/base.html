<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Bookshelf{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- Desktop Sidebar -->
    <aside id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <div class="header-top">
                <a href="{{ url_for('main.index') }}" class="site-title">Bookshelf</a>
                <a href="{{ url_for('main.search_page') }}" class="search-link" title="Search">
                    <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                </a>
            </div>
        </div>
                
        <nav class="sidebar-nav">
            <a href="{{ url_for('books.books') }}" class="nav-link">Books</a>
            <a href="{{ url_for('authors.author_list') }}" class="nav-link">Authors</a>
            <a href="{{ url_for('tags.tag_list') }}" class="nav-link">Tags</a>
            <a href="{{ url_for('locations.location_list') }}" class="nav-link">Locations</a>
            {% if current_user.is_authenticated and current_user.is_admin %}
            <a href="{{ url_for('users.users') }}" class="nav-link">Users</a>
            {% endif %}
        </nav>
        
        <div class="sidebar-footer">
            {% if current_user.is_authenticated %}
            <a href="" class="profile-button">
                <svg class="profile-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
                <span>{{ current_user.username }}</span>
            </a>
            {% else %}
            <a href="" class="profile-button">
                <svg class="profile-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path>
                    <polyline points="10 17 15 12 10 7"></polyline>
                    <line x1="15" y1="12" x2="3" y2="12"></line>
                </svg>
                <span>Login</span>
            </a>
            {% endif %}
        </div>
    </aside>

    <!-- Mobile Menu Button -->
    <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-label="Toggle menu">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
    </button>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="mobile-menu">
        <nav class="mobile-nav">
            <a href="{{ url_for('main.search_page') }}" class="mobile-nav-link">
                <svg class="mobile-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.35-4.35"></path>
                </svg>
                Search
            </a>
            <a href="{{ url_for('books.books') }}" class="mobile-nav-link">Books</a>
            <a href="{{ url_for('authors.author_list') }}" class="mobile-nav-link">Authors</a>
            <a href="{{ url_for('tags.tag_list') }}" class="mobile-nav-link">Tags</a>
            <a href="{{ url_for('locations.location_list') }}" class="mobile-nav-link">Locations</a>
            {% if current_user.is_authenticated and current_user.is_admin %}
            <a href="{{ url_for('users.users') }}" class="mobile-nav-link">Users</a>
            {% endif %}
            {% if current_user.is_authenticated %}
            <a href="" class="mobile-nav-link">Profile</a>
            {% else %}
            <a href="" class="mobile-nav-link">Login</a>
            {% endif %}
        </nav>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        {% block content %}
        {% endblock %}
    </main>

    <script src="{{ url_for('static', filename='js/hamburger_menu.js') }}"></script>
</body>
</html>